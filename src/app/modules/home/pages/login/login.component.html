<section class="login-container">
  <div class="visible-container px-5 py-4">

    <h3 class="title center mb-3">
      <i class="bi bi-puzzle"></i>
      Angular Framework
    </h3>

    <ng-container *ngIf="errorMessage">
      <span class="error">{{ errorMessage }}</span>
    </ng-container>

    <form [formGroup]="loginForm">
      <div class="form-group">
        <label for="title" class="ml-4">Correo electrónico*</label>

        <input type="text" id="username" placeholder="Correo electrónico" class="form-control"
          formControlName="username" autocomplete="username" />

        <span class="error" *ngIf="loginForm.get('username')?.touched && loginForm.get('username')?.errors?.required">
          Correo electrónico obligatorio.
        </span>
      </div>

      <div class="form-group">
        <label for="password" class="ml-4 mt-3">
          <i class="bi bi-eye-fill pointer" (click)="toggleInput()" *ngIf="!isActive"></i>
          <i class="bi bi-eye-slash-fill pointer" (click)="toggleInput()" *ngIf="isActive"></i>
          Contraseña*
        </label>

        <!-- Input password -->
        <input #password [type]="(isActive) ? 'text' : 'password'" id="password" placeholder="Contraseña" class="form-control"
          formControlName="password" autocomplete="current-password" />

        <span class="error" *ngIf="loginForm.get('password')?.touched && !loginForm.get('password')?.valid">
          Contraseña obligatoria (mínimo 6 caracteres).
        </span>
      </div>

      <div class="buttons-container center mt-3">
        <a id="recoverPass" (click)="ForgotPassword()" class="nav-link pointer" title="Recuperar contraseña">
          Olvidaste la contraseña?
        </a>

        <button class="btn btn-primary" (click)="signIn()" [disabled]="!loginForm.valid">
          Iniciar sesión
        </button>
      </div>
      <hr />

      <div class="text-center">
        ¿Nuevo por aquí?
        <a (click)="createUser()" class="nav-link pointer d-inline-block" title="Crear nueva cuenta">
          Únete a nosotros
        </a>
      </div>
    </form>

  </div>
</section>